<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Users - {{siteName}}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        pastel: {
                            pink: '#fce4ec',
                            purple: '#e8daef',
                            blue: '#d6eaf8',
                            mint: '#d5f5e3',
                            peach: '#fdebd0',
                            lavender: '#e8e0f0',
                            rose: '#f8e1e7',
                            sky: '#e0f2fe',
                            cream: '#fef9e7',
                            sage: '#e8f5e9'
                        },
                        accent: {
                            primary: '#7c6f9f',
                            secondary: '#e89bb0',
                            tertiary: '#7fb8c9'
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet" />
    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #fce4ec 0%, #e8daef 50%, #d6eaf8 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }
        
        .glass-nav {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(124, 111, 159, 0.15);
        }
        
        .user-row {
            background: rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .user-row:hover {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(232, 155, 176, 0.3);
            box-shadow: 0 8px 20px rgba(124, 111, 159, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #7c6f9f 0%, #9b8fc2 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #6b5f8e 0%, #8a7eb1 100%);
            box-shadow: 0 8px 25px rgba(124, 111, 159, 0.4);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #e89bb0 0%, #f0b8c7 100%);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #d88a9f 0%, #e9a8b8 100%);
            box-shadow: 0 8px 25px rgba(232, 155, 176, 0.4);
        }
        
        .icon-btn {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .icon-btn:hover {
            transform: scale(1.15);
        }
        
        .icon-btn.edit {
            background: linear-gradient(135deg, #d6eaf8 0%, #e0f2fe 100%);
            color: #2980b9;
        }
        
        .icon-btn.delete {
            background: linear-gradient(135deg, #f8e1e7 0%, #fce4ec 100%);
            color: #c0392b;
        }
        
        .role-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .role-badge.superadmin {
            background: linear-gradient(135deg, #fdebd0 0%, #fef9e7 100%);
            color: #d68910;
        }
        
        .role-badge.admin {
            background: linear-gradient(135deg, #d6eaf8 0%, #e0f2fe 100%);
            color: #2980b9;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-badge.active {
            background: linear-gradient(135deg, #d5f5e3 0%, #e8f5e9 100%);
            color: #27ae60;
        }
        
        .status-badge.inactive {
            background: linear-gradient(135deg, #eaecee 0%, #f4f6f7 100%);
            color: #7f8c8d;
        }
        
        .glass-modal {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
        }
        
        .form-input {
            border: 2px solid #e8daef;
            border-radius: 12px;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .form-input:focus {
            outline: none;
            border-color: #7c6f9f;
            box-shadow: 0 0 0 3px rgba(124, 111, 159, 0.15);
            background: white;
        }
        
        .form-select {
            border: 2px solid #e8daef;
            border-radius: 12px;
            padding: 0.75rem 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .form-select:focus {
            outline: none;
            border-color: #7c6f9f;
            box-shadow: 0 0 0 3px rgba(124, 111, 159, 0.15);
        }
        
        .avatar {
            width: 44px;
            height: 44px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            color: white;
        }
    </style>
    {{codeBeforHead}}
  </head>
  <body>
    <!-- Navigation -->
    <nav class="glass-nav sticky top-0 z-50 border-b border-white/30">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16 md:h-20">
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 md:w-12 md:h-12 rounded-2xl bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center shadow-lg">
              <i class="ri-user-settings-line text-white text-lg md:text-xl"></i>
            </div>
            <div>
              <h1 class="text-lg md:text-xl font-bold text-gray-800">Admin Users</h1>
              <p class="text-xs text-gray-500 hidden sm:block">Manage team access</p>
            </div>
          </div>
          <a href="/admin/" class="flex items-center space-x-2 bg-white/80 hover:bg-white px-4 py-2.5 rounded-xl text-sm font-medium text-gray-700 transition-all shadow-sm hover:shadow-md">
            <i class="ri-article-line text-accent-primary"></i>
            <span class="hidden sm:inline">Articles</span>
          </a>
        </div>
      </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 md:gap-6 mb-8">
        <button onclick="openAddAdminModal()" class="stat-card p-5 text-center group">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pastel-blue to-pastel-sky mx-auto mb-3 flex items-center justify-center group-hover:scale-110 transition-transform">
            <i class="ri-user-add-line text-2xl text-accent-tertiary"></i>
          </div>
          <h3 class="font-bold text-gray-800">Add Admin</h3>
          <p class="text-xs text-gray-500 mt-1">Create new user</p>
        </button>

        <div class="stat-card p-5 text-center">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pastel-mint to-pastel-sage mx-auto mb-3 flex items-center justify-center">
            <i class="ri-group-line text-2xl text-green-600"></i>
          </div>
          <h3 class="font-bold text-gray-800 text-2xl" id="total-admins">-</h3>
          <p class="text-xs text-gray-500 mt-1">Total Admins</p>
        </div>

        <div class="stat-card p-5 text-center">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pastel-lavender to-pastel-purple mx-auto mb-3 flex items-center justify-center">
            <i class="ri-shield-keyhole-line text-2xl text-accent-primary"></i>
          </div>
          <h3 class="font-bold text-gray-800 text-2xl" id="superadmin-count">-</h3>
          <p class="text-xs text-gray-500 mt-1">Super Admins</p>
        </div>
      </div>

      <!-- Users Management -->
      <div class="glass-card overflow-hidden mb-8">
        <div class="border-b border-gray-100/80 px-5 sm:px-6 py-5 bg-gradient-to-r from-white/50 to-transparent">
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
            <div>
              <h2 class="text-lg md:text-xl font-bold text-gray-800">Admin Users</h2>
              <p class="text-sm text-gray-500">Manage user access and permissions</p>
            </div>
            <div class="flex space-x-3">
              <div class="relative">
                <input type="text" id="search-admins" placeholder="Search admins..." 
                       class="form-input pl-10 pr-4 py-2.5 w-full sm:w-auto" />
                <i class="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
              </div>
              <button onclick="loadAdmins()" class="w-11 h-11 rounded-xl bg-white/80 hover:bg-white flex items-center justify-center text-gray-600 transition-all shadow-sm hover:shadow-md">
                <i class="ri-refresh-line text-lg"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="p-5 sm:p-6">
          <div id="admins-list">
            <div class="flex flex-col justify-center items-center py-12">
              <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center animate-pulse mb-4">
                <i class="ri-loader-4-line text-white text-2xl animate-spin"></i>
              </div>
              <p class="text-gray-500 font-medium">Loading admins...</p>
            </div>
          </div>
        </div>
      </div>

      <!-- User Guide -->
      <div class="glass-card p-6 bg-gradient-to-br from-pastel-blue/50 to-pastel-lavender/50">
        <div class="flex items-start">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-accent-tertiary to-accent-primary flex items-center justify-center mr-4 flex-shrink-0">
            <i class="ri-information-line text-white text-xl"></i>
          </div>
          <div>
            <h3 class="font-bold text-gray-800 mb-3">Admin Roles Guide</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
              <div class="flex items-center space-x-3">
                <span class="role-badge superadmin"><i class="ri-shield-keyhole-line mr-1"></i>Super Admin</span>
                <span class="text-gray-600">Full system access, can manage users</span>
              </div>
              <div class="flex items-center space-x-3">
                <span class="role-badge admin"><i class="ri-user-line mr-1"></i>Admin</span>
                <span class="text-gray-600">Content management only</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Admin Modal -->
    <div id="add-admin-modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4">
      <div class="glass-modal p-6 w-full max-w-md shadow-2xl">
        <div class="flex justify-between items-center mb-5">
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-pastel-blue to-pastel-sky flex items-center justify-center">
              <i class="ri-user-add-line text-accent-tertiary"></i>
            </div>
            <h3 class="text-lg font-bold text-gray-800">Add New Admin</h3>
          </div>
          <button onclick="closeAddAdminModal()" class="w-9 h-9 rounded-xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors">
            <i class="ri-close-line text-gray-600"></i>
          </button>
        </div>

        <form id="add-admin-form" class="space-y-4">
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Username *</label>
            <input type="text" id="username" required class="form-input w-full" placeholder="Enter username" />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Password *</label>
            <input type="password" id="password" required class="form-input w-full" placeholder="Enter password" />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
            <input type="email" id="email" required class="form-input w-full" placeholder="Enter email" />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Role *</label>
            <select id="role" required class="form-select w-full">
              <option value="admin">Admin</option>
              <option value="superadmin">Super Admin</option>
            </select>
          </div>
        </form>

        <div class="flex space-x-3 mt-6">
          <button onclick="closeAddAdminModal()" class="flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-xl font-medium hover:bg-gray-200 transition-all">
            Cancel
          </button>
          <button onclick="addAdmin()" class="flex-1 btn-primary text-white py-3 px-4 rounded-xl font-medium">
            <i class="ri-user-add-line mr-2"></i>Add Admin
          </button>
        </div>
      </div>
    </div>

    <!-- Edit Admin Modal -->
    <div id="edit-admin-modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4">
      <div class="glass-modal p-6 w-full max-w-md shadow-2xl">
        <div class="flex justify-between items-center mb-5">
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-pastel-lavender to-pastel-purple flex items-center justify-center">
              <i class="ri-edit-line text-accent-primary"></i>
            </div>
            <h3 class="text-lg font-bold text-gray-800">Edit Admin</h3>
          </div>
          <button onclick="closeEditAdminModal()" class="w-9 h-9 rounded-xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors">
            <i class="ri-close-line text-gray-600"></i>
          </button>
        </div>

        <form id="edit-admin-form" class="space-y-4">
          <input type="hidden" id="edit-admin-id" />

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Username</label>
            <input type="text" id="edit-username" readonly class="form-input w-full bg-gray-100 text-gray-500" />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
            <input type="email" id="edit-email" required class="form-input w-full" />
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Role *</label>
            <select id="edit-role" required class="form-select w-full">
              <option value="admin">Admin</option>
              <option value="superadmin">Super Admin</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">Status *</label>
            <select id="edit-status" required class="form-select w-full">
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>
        </form>

        <div class="flex space-x-3 mt-6">
          <button onclick="closeEditAdminModal()" class="flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-xl font-medium hover:bg-gray-200 transition-all">
            Cancel
          </button>
          <button onclick="updateAdmin()" class="flex-1 btn-primary text-white py-3 px-4 rounded-xl font-medium">
            <i class="ri-save-line mr-2"></i>Save Changes
          </button>
        </div>
      </div>
    </div>

    <script>
      let currentAdmins = [];

      document.addEventListener("DOMContentLoaded", function () {
        loadAdmins();

        document.getElementById("search-admins").addEventListener("input", function (e) {
          filterAdmins(e.target.value);
        });
      });

      async function loadAdmins() {
        try {
          const response = await fetch("/api/admins");
          if (!response.ok) {
            if (response.status === 401) {
              showNotification("Authentication required. Please log in again.", "error");
              return;
            }
            if (response.status === 403) {
              showNotification("Access denied. Only superadmins can manage users.", "error");
              return;
            }
            throw new Error("Failed to load admins");
          }
          currentAdmins = await response.json();
          displayAdmins(currentAdmins);
          updateStats();
        } catch (error) {
          console.error("Error loading admins:", error);
          showNotification("Error loading admins: " + error.message, "error");
        }
      }

      function displayAdmins(admins) {
        const container = document.getElementById("admins-list");

        if (admins.length === 0) {
          container.innerHTML = `
            <div class="text-center py-12">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-pastel-lavender to-pastel-pink mx-auto flex items-center justify-center mb-4">
                <i class="ri-user-search-line text-3xl text-accent-primary"></i>
              </div>
              <h3 class="text-lg font-bold text-gray-800 mb-2">No Admin Users</h3>
              <p class="text-gray-500 mb-4">Get started by adding your first admin user</p>
              <button onclick="openAddAdminModal()" class="btn-primary text-white px-5 py-2.5 rounded-xl inline-flex items-center text-sm font-medium">
                <i class="ri-user-add-line mr-2"></i>Add Admin
              </button>
            </div>
          `;
          return;
        }

        const colors = ['from-accent-primary to-accent-secondary', 'from-accent-secondary to-accent-tertiary', 'from-accent-tertiary to-accent-primary'];

        container.innerHTML = admins.map((admin, index) => `
          <div class="user-row">
            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3">
              <div class="flex items-center space-x-4">
                <div class="avatar bg-gradient-to-br ${colors[index % colors.length]}">
                  ${admin.username.charAt(0).toUpperCase()}
                </div>
                <div class="min-w-0 flex-1">
                  <h3 class="font-semibold text-gray-800">${admin.username}</h3>
                  <p class="text-gray-500 text-sm truncate">${admin.email}</p>
                </div>
              </div>
              <div class="flex items-center flex-wrap gap-2 ml-14 sm:ml-0">
                <span class="role-badge ${admin.role === "superadmin" ? "superadmin" : "admin"}">
                  <i class="ri-${admin.role === "superadmin" ? "shield-keyhole-line" : "user-line"} mr-1"></i>
                  ${admin.role}
                </span>
                <span class="status-badge ${admin.status === "active" ? "active" : "inactive"}">
                  <i class="ri-${admin.status === "active" ? "checkbox-circle-line" : "close-circle-line"} mr-1"></i>
                  ${admin.status}
                </span>
              </div>
              <div class="flex space-x-2 ml-14 sm:ml-4">
                <button onclick="editAdmin('${admin.id}')" class="icon-btn edit" title="Edit">
                  <i class="ri-edit-line"></i>
                </button>
                <button onclick="deleteAdmin('${admin.id}', '${admin.username}')" 
                        class="icon-btn delete" 
                        title="Delete"
                        ${admin.role === "superadmin" ? "disabled style='opacity: 0.5; cursor: not-allowed;'" : ""}>
                  <i class="ri-delete-bin-line"></i>
                </button>
              </div>
            </div>
          </div>
        `).join("");
      }

      function filterAdmins(searchTerm) {
        const filteredAdmins = currentAdmins.filter(
          (admin) => admin.username.toLowerCase().includes(searchTerm.toLowerCase()) || 
                     admin.email.toLowerCase().includes(searchTerm.toLowerCase()) || 
                     admin.role.toLowerCase().includes(searchTerm.toLowerCase())
        );
        displayAdmins(filteredAdmins);
      }

      function updateStats() {
        const totalAdmins = currentAdmins.length;
        const superadminCount = currentAdmins.filter((admin) => admin.role === "superadmin").length;

        document.getElementById("total-admins").textContent = totalAdmins;
        document.getElementById("superadmin-count").textContent = superadminCount;
      }

      function openAddAdminModal() {
        document.getElementById("add-admin-modal").classList.remove("hidden");
        document.getElementById("add-admin-form").reset();
      }

      function closeAddAdminModal() {
        document.getElementById("add-admin-modal").classList.add("hidden");
      }

      function openEditAdminModal() {
        document.getElementById("edit-admin-modal").classList.remove("hidden");
      }

      function closeEditAdminModal() {
        document.getElementById("edit-admin-modal").classList.add("hidden");
      }

      async function addAdmin() {
        const formData = {
          username: document.getElementById("username").value,
          password: document.getElementById("password").value,
          email: document.getElementById("email").value,
          role: document.getElementById("role").value,
        };

        try {
          const response = await fetch("/api/admins", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(formData),
          });

          if (response.ok) {
            showNotification("Admin created successfully");
            closeAddAdminModal();
            loadAdmins();
          } else {
            if (response.status === 403) {
              showNotification("Access denied. Only superadmins can manage users.", "error");
              return;
            }
            const error = await response.json();
            throw new Error(error.error || "Failed to create admin");
          }
        } catch (error) {
          console.error("Error creating admin:", error);
          showNotification("Error creating admin: " + error.message, "error");
        }
      }

      async function editAdmin(adminId) {
        const admin = currentAdmins.find((a) => a.id === adminId);
        if (!admin) return;

        document.getElementById("edit-admin-id").value = admin.id;
        document.getElementById("edit-username").value = admin.username;
        document.getElementById("edit-email").value = admin.email;
        document.getElementById("edit-role").value = admin.role;
        document.getElementById("edit-status").value = admin.status;

        openEditAdminModal();
      }

      async function updateAdmin() {
        const adminId = document.getElementById("edit-admin-id").value;
        const updateData = {
          email: document.getElementById("edit-email").value,
          role: document.getElementById("edit-role").value,
          status: document.getElementById("edit-status").value,
        };

        try {
          const response = await fetch("/api/admins/" + adminId, {
            method: "PUT",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(updateData),
          });

          if (response.ok) {
            showNotification("Admin updated successfully");
            closeEditAdminModal();
            loadAdmins();
          } else {
            if (response.status === 403) {
              showNotification("Access denied. Only superadmins can manage users.", "error");
              return;
            }
            const error = await response.json();
            throw new Error(error.error || "Failed to update admin");
          }
        } catch (error) {
          console.error("Error updating admin:", error);
          showNotification("Error updating admin: " + error.message, "error");
        }
      }

      async function deleteAdmin(adminId, username) {
        if (!confirm(`Are you sure you want to delete admin "${username}"? This action cannot be undone.`)) return;

        try {
          const response = await fetch("/api/admins/" + adminId, { method: "DELETE" });

          if (response.ok) {
            showNotification("Admin deleted successfully");
            loadAdmins();
          } else {
            if (response.status === 403) {
              showNotification("Access denied. Only superadmins can manage users.", "error");
              return;
            }
            const error = await response.json();
            throw new Error(error.error || "Failed to delete admin");
          }
        } catch (error) {
          console.error("Error deleting admin:", error);
          showNotification("Error deleting admin: " + error.message, "error");
        }
      }

      function showNotification(message, type = "success") {
        document.querySelectorAll(".notification").forEach((el) => el.remove());

        const colors = {
          success: 'from-green-400 to-emerald-500',
          warning: 'from-yellow-400 to-orange-500',
          error: 'from-red-400 to-rose-500'
        };

        const icons = {
          success: 'ri-check-line',
          warning: 'ri-alert-line',
          error: 'ri-error-warning-line'
        };

        const notification = document.createElement("div");
        notification.className = `notification fixed top-24 right-6 px-5 py-3.5 rounded-2xl shadow-xl text-white font-medium z-50 flex items-center gap-2 bg-gradient-to-r ${colors[type] || colors.success} transform transition-all duration-500`;
        notification.innerHTML = `<i class="${icons[type] || icons.success} text-lg"></i>${message}`;

        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.transform = "translateX(120%)";
          notification.style.opacity = "0";
          setTimeout(() => {
            if (document.body.contains(notification)) {
              document.body.removeChild(notification);
            }
          }, 500);
        }, 3000);
      }
    </script>
    {{codeBeforBody}}
  </body>
</html>
